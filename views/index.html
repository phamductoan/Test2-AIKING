<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>REGISTER</title>
</head>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<body>
    <nav class="navbar navbar-expand-lg navbar-light container-fluid" style="background-color: white; border-bottom: 0.5px solid #DCDCDC;">
        <a href="index.html"><img src="logo.png" alt=""></a>
    </nav>
    
    <div class="container-fluid" style="background-color: whitesmoke; border-bottom: 0.5px solid #DCDCDC;">
        <div class="container">
            <form id="form-login">
                <div class="row" style="align-items: center; justify-content: center; display: flex; height: 100%;">
                    <div class="col-sm-5 mt-5" style="background-color: white; padding: auto;">
                        <div class="col-sm-12" style="border: 0.5px solid #DCDCDC;">
                            <h6 class="mt-4" style="text-align: center;">LOGIN TO YOUR ACCOUNT</h6>
                            <div class="form-group mt-4">
                                <label for="">Email</label>
                                <p id="show-email-err" style="color: red; font-size: small; display: none;">Chưa nhập email</p>
                                <input type="text" class="form-control" id="ipn-login-email">
                            </div>
                            <div class="form-group mt-2">
                                <label for="ipnPassword">Password</label>
                                <p id="show-password-err" style="color: red; font-size: small; display: none;">Chưa nhập password</p>
                                <div class="input-group">
                                    <input type="password" class="form-control" id="ipn-login-password">
                                    <div class="input-group-append">
                                        <button class="btn btn-outline-secondary" type="button" id="btn-Password">
                                        <span class="fas fa-eye"></span>
                                    </div>
                                </div>
                            </div>
                            <div class="mt-4">
                                <p id="show-response" style="color: red; font-size: small; display: none;"></p>
                                <button id="btn-login" class="btn btn-warning form-control" type="button">Login</button>
                            </div>
                            <div class="mt-4" style="text-align: center; padding-bottom: 10px;">
                                <a href="#">Forgot your password</a>
                            </div>
                        </div>
                        <div style="text-align: center; padding-top: 1cm;">
                            <p>Don't have an account?<a href="register.html"> Register</a></p>
                        </div>
                        <div class="row" style="text-align: center; padding-bottom: 3cm;">
                            <div class="col-sm-4">
                                <p>Privacy Notice</p>
                            </div>
                            <div class="col-sm-4">
                                <p>Cookies Notice</p>
                            </div>
                            <div class="col-sm-4">
                                <p>Cookies Settings</p>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>
        <div class="row" style="margin-bottom: 1cm;">
            <div class="col-sm-2"></div>
            <div class="col-sm-2">
                <h6>Products</h6>
                <p style="margin: 0.8px;">Blockchain Explorer</p>
                <p style="margin: 0.8px;">Crypto API</p>
                <p style="margin: 0.8px;">Crypto Indices</p>
                <p style="margin: 0.8px;">Interest</p>
                <p style="margin: 0.8px;">Jobs Board</p>
                <p style="margin: 0.8px;">Sitemap</p>
            </div>
            <div class="col-sm-2">
                <h6>Company</h6>
                <p style="margin: 0.8px;">About us</p>
                <p style="margin: 0.8px;">Terms of use</p>
                <p style="margin: 0.8px;">Privacy Policy</p>
                <p style="margin: 0.8px;">Disclaimer</p>
                <p style="margin: 0.8px;">Methodology</p>
                <p style="margin: 0.8px;">CareersWe're hiring!</p>
            </div>
            <div class="col-sm-2">
                <h6>Support</h6>
                <p style="margin: 0.8px;">Request Form</p>
                <p style="margin: 0.8px;">Contact Support</p>
                <p style="margin: 0.8px;">FAQ/p>
                <p style="margin: 0.8px;">Glossary</p>
            </div>
            <div class="col-sm-2">
                <h6>Socials</h6>
                <p style="margin: 0.8px;">Facebook</p>
                <p style="margin: 0.8px;">Twitter</p>
                <p style="margin: 0.8px;">Telegram</p>
                <p style="margin: 0.8px;">Instagram</p>
                <p style="margin: 0.8px;">Interactive Chat</p>
            </div>
        </div>
    </div>
    <div class="container-fluid" style="background-color: whitesmoke;">
        <div style="text-align: center; margin-top: 17px;">
            <p>Coppyright <i class="fa fa-copyright" aria-hidden="true"></i> 2022 <a style="color: black;" href="https://my.shopcoinusa.com/login#">Shopcoin.com</a></p>
        </div>
    </div>
</body>
<script>
    $(document).ready(function() {
        const ipnElement = document.querySelector('#ipn-login-password')
        const btnElement = document.querySelector('#btn-Password')

        btnElement.addEventListener('click', function() {
        const currentType = ipnElement.getAttribute('type')
        ipnElement.setAttribute(
            'type',
            currentType === 'password' ? 'text' : 'password'
        )
        })
                $("#btn-login").on("click", function(){
            onBtnSearchClick();
        })
        $( "#ipn-login-email" ).change(function() {
            $("#show-email-err").hide();
            $("#show-password-err").hide()
            $("#show-response").hide()
        });
        $( "#ipn-login-password" ).change(function() {
            $("#show-email-err").hide();
            $("#show-password-err").hide()
            $("#show-response").hide()
        });
        const onBtnSearchClick = () => {
            var vloginData = {
                email: "",
                password: ""
            }
            getIputData(vloginData);
            validateDAta(vloginData);
            var isValidate = validateDAta(vloginData);
            if(isValidate) {
                $.ajax({
                    url : "/login",
                    type : "post",
                    dataType:"text",
                    data : vloginData,
                    success : function (responseText){
                        console.log(JSON.parse(responseText))
                        window.location = "register.html"
                    },
                    error: function(error){
                        console.log(JSON.parse(error.responseText));
                        $("#show-response").text(JSON.parse(error.responseText).error)
                        $("#show-response").show()
                    }
                });
            }
       
        }

        const getIputData = (paramIpnData) => {
            paramIpnData.email = $("#ipn-login-email").val()
            paramIpnData.password = $("#ipn-login-password").val()
        }

        const validateDAta = (paramIpnData) => {
            if(!paramIpnData.email) {
                $("#show-email-err").show()
                return false
            }
            if(!paramIpnData.email) {
                $("#show-password-err").show()
                return false
            }
            return true   
        }



     }) 
</script>
</html>